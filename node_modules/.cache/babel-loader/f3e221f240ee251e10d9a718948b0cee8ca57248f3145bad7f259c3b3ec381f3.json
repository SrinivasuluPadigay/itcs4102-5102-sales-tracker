{"ast":null,"code":"import React,{useContext}from'react';import{List,ListItem,ListItemText,IconButton,Typography,Divider,Paper,Button}from'@mui/material';import EditIcon from'@mui/icons-material/Edit';import DeleteIcon from'@mui/icons-material/Delete';import{SalesContext}from'./SalesContext';import axios from'axios';import{saveAs}from'file-saver';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SaleList(){const{sales,startEdit,deleteSale}=useContext(SalesContext);const exportSales=()=>{axios({url:'http://localhost:8080/export-sales',method:'GET',responseType:'blob'}).then(response=>{saveAs(new Blob([response.data]),'sales-report.pdf');}).catch(error=>{console.error(\"There was an error exporting the file: \",error);});};if(!sales||sales.length===0)return/*#__PURE__*/_jsx(Typography,{children:\"No sales data available.\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:exportSales,sx:{mb:2},children:\"Export to PDF\"}),/*#__PURE__*/_jsx(List,{sx:{width:'100%',mt:1},children:sales.map(sale=>/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(Paper,{elevation:2,sx:{my:2,p:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary\",sx:{mb:2},children:[\"Sales on \",sale.date,\" | Cash Sales: $\",sale.totals.cash.toFixed(2),\" | Card Sales: $\",sale.totals.card.toFixed(2)]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:2}}),/*#__PURE__*/_jsx(ListItem,{secondaryAction:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>startEdit(sale),children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>deleteSale(sale.id),children:/*#__PURE__*/_jsx(DeleteIcon,{})})]}),sx:{mb:1},children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(sale.itemName,\" - $\").concat(sale.price),secondary:\"Category: \".concat(sale.category,\" | Date: \").concat(sale.date,\" | Payment Mode: \").concat(sale.paymentMode)})})]})},sale.id))})]});}export default SaleList;","map":{"version":3,"names":["React","useContext","List","ListItem","ListItemText","IconButton","Typography","Divider","Paper","Button","EditIcon","DeleteIcon","SalesContext","axios","saveAs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SaleList","sales","startEdit","deleteSale","exportSales","url","method","responseType","then","response","Blob","data","catch","error","console","length","children","variant","color","onClick","sx","mb","width","mt","map","sale","elevation","my","p","date","totals","cash","toFixed","card","secondaryAction","id","primary","concat","itemName","price","secondary","category","paymentMode"],"sources":["C:/Users/twins/Desktop/spl_project/Sales Tracker/Sales Tracker/sales-tracker/src/SaleList.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { List, ListItem, ListItemText, IconButton, Typography, Divider, Paper, Button } from '@mui/material';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { SalesContext } from './SalesContext';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver';\n\nfunction SaleList() {\n    const { sales, startEdit, deleteSale } = useContext(SalesContext);\n\n    const exportSales = () => {\n        axios({\n            url: 'http://localhost:8080/export-sales',\n            method: 'GET',\n            responseType: 'blob',\n        })\n        .then((response) => {\n            saveAs(new Blob([response.data]), 'sales-report.pdf');\n        })\n        .catch(error => {\n            console.error(\"There was an error exporting the file: \", error);\n        });\n    };\n\n    if (!sales || sales.length === 0) return <Typography>No sales data available.</Typography>;\n\n    return (\n        <div>\n            <Button variant=\"contained\" color=\"primary\" onClick={exportSales} sx={{ mb: 2 }}>\n                Export to PDF\n            </Button>\n            <List sx={{ width: '100%', mt: 1 }}>\n                {sales.map(sale => (\n                    <React.Fragment key={sale.id}>\n                        <Paper elevation={2} sx={{ my: 2, p: 2 }}>\n                            <Typography variant=\"h6\" color=\"primary\" sx={{ mb: 2 }}>\n                                Sales on {sale.date} | Cash Sales: ${sale.totals.cash.toFixed(2)} | Card Sales: ${sale.totals.card.toFixed(2)}\n                            </Typography>\n                            <Divider sx={{ mb: 2 }} />\n                            <ListItem \n                                secondaryAction={\n                                    <>\n                                        <IconButton onClick={() => startEdit(sale)}><EditIcon /></IconButton>\n                                        <IconButton onClick={() => deleteSale(sale.id)}><DeleteIcon /></IconButton>\n                                    </>\n                                }\n                                sx={{ mb: 1 }}\n                            >\n                                <ListItemText\n                                    primary={`${sale.itemName} - $${sale.price}`}\n                                    secondary={`Category: ${sale.category} | Date: ${sale.date} | Payment Mode: ${sale.paymentMode}`}\n                                />\n                            </ListItem>\n                        </Paper>\n                    </React.Fragment>\n                ))}\n            </List>\n        </div>\n    );\n}\n\nexport default SaleList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}